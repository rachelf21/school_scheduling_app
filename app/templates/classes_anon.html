{% extends "base-denied.html" %} {% block content %}
<style>
  tr:hover {
    /*background-color: #afdefb !important;*/
    background-color: #e0ffff !important;
  }
</style>
<script src="/static/js/classes_anon.js"></script>
<div id="outerdiv" style="display: flex; justify-content: center; text-align: center">
  <div id="innerdiv" style="margin-left: auto; margin-right: auto">
    <div style="text-align: center">
      <h1 class="mt-2 mb-1 font-weight-normal">My Classes</h1>
      <div class="font-weight-normal mt-2 mb-4">
        <a href="/get_students/d/7">Grade 7 Students</a> | <a href="/get_students/d/8">Grade 8 Students</a>
      </div>
    </div>
    <table
      id="myTable"
      class="table mx-auto w-auto table-striped table-hover table-bordered table-responsive"
      style="border: 0px red solid"
    >
      <thead>
        <th>Class</th>
        <th></th>
        <th>Subject</th>
        <th>Room</th>
        <th>Amt</th>
        <th>Att</th>
      </thead>
      <tbody>
        {% for courses in courses %} {%if courses.teacher == current_user.username %}
        <tr>
          <script>
            var my_class = "{{ courses.classid}}";
            var my_course = "{{ courses.subject}}";
            console.log("class= " + my_class);
            var my_day = "{{dow}}";
            console.log("day= " + my_day);
          </script>
          <td><a title="student info" id="class{{loop.index}}" href="get_students/d/{{ courses.classid}}">{{ courses.classid}}</a></td>
          <td>{{courses.classcode.gender}}</td>
          <td>{{ courses.subject}}</td>
          <td>{{ courses.room}}</td>
          <td>{{ courses.classcode.amount}}</td>
          <td>
            <a
              id="attendance{{loop.index}}"
              title="attendance"
              class="a btn-sm"
              onclick="set_values('{{ courses.classid}}', '{{ courses.subject}}')"
              data-toggle="modal"
              data-target="#exampleModalLong"
              ><i name="attendance" style="color: Blue" class="fa fa-pencil"></i>
            </a>
          </td>
        </tr>
        {%endif%} {%endfor%}
      </tbody>
    </table>
    <script>
      $("#myTable").DataTable({
        pageLength: 20,
        paging: false,
        filter: false,
        deferRender: true,
        //scrollY: 1200,
        scrollCollapse: true,
        scroller: true,
        ordering: true,
        select: true,
        bSort: false,
      });
    </script>
  </div>
  <a class="text-muted small text-left" href="/today">Admin</a>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Which period is this?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times; </span>
        </button>
      </div>
      <div class="modal-body">
        <div class="md-form mb-1">
          <div><label for="current_period">Enter a number from 1 to 10.</label></div>
          <div><input style="width: 60px" type="text" id="current_period" class="form-control validate" placeholder="" autofocus /></div>
          <div>
            <input style="width: 80px; display: none" type="text" id="current_class" class="form-control validate" />
          </div>
          <div>
            <input style="width: 200px; display: none" type="text" id="current_subject" class="form-control validate" />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button
          type="button"
          class="btn btn-primary"
          data-dismiss="modal"
          onclick="select_current_period('{{ courses.classid}}', '{{ courses.subject}}')"
        >
          OK
        </button>
      </div>
    </div>
  </div>
</div>
<script>
  $("#exampleModalLong").on("shown.bs.modal", function () {
    $("#current_period").focus();
    setTimeout(function () {
      $("#current_period").focus();
    }, 1000);
  });
</script>
{%endblock content%}
